<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
    <t t-name="is_dynacase2odoo.suivi_projet_template" owl="1">
        <style>
            .o_control_panel{
                display: none;
            }
        </style>
        <Layout display="display">
            <h2 style="margin-left:1%;margin-right:1%;color:gray">Suivi des projets</h2>
            <table style="width:98%;margin-left:1%;margin-right:1%" class="filtre_suivi_projet">
                <thead>
                    <tr>
                        <th>CP</th>
                        <th>Client</th>
                        <th>Projet</th>
                        <th>Moule</th>
                        <th>Type moule</th>
                        <th>Mod√®le</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <!-- <td><input name="suivi_projet_cp"         t-att-value="state.suivi_projet_cp"         t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td> -->
                        <td>
                            <select name="suivi_projet_cp_id" class="form-select" t-on-change="onChangeInput">
                                <t t-foreach="state.cp_options or []" t-as="o"  t-key="o.id">
                                    <option t-att-value="o.id" t-att-selected="o.selected">
                                        <t t-esc="o.name" />
                                    </option>
                                </t>
                            </select>
                        </td>
  
                       
                        <td><input name="suivi_projet_client"     t-att-value="state.suivi_projet_client"     t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="suivi_projet_projet"     t-att-value="state.suivi_projet_projet"     t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="suivi_projet_moule"      t-att-value="state.suivi_projet_moule"      t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td>
                            <select name="suivi_projet_type_moule" class="form-select" t-on-change="onChangeInput">
                                <t t-foreach="state.type_moule_options or []" t-as="o"  t-key="o.id">
                                    <option t-att-value="o.id" t-att-selected="o.selected">
                                        <t t-esc="o.name" />
                                    </option>
                                </t>
                            </select>
                        </td>
                        <td>
                            <select name="suivi_projet_modele_id" class="form-select" t-on-change="onChangeInput">
                                <t t-foreach="state.modele_options or []" t-as="o"  t-key="o.id">
                                    <option t-att-value="o.id" t-att-selected="o.selected">
                                        <t t-esc="o.name" />
                                    </option>
                                </t>
                            </select>
                        </td>


                        <td><button class="btn btn-primary ms-1" style="width:50px"  t-on-click="OKclick"> OK </button></td>
                    </tr>
                </tbody>
            </table>
            <div class="suivi_projet" style="width:98%; height:85vh; overflow: auto;margin-left:1%;margin-right:1%">
                    <table style="width:100%;overflow-y:auto">
                        <thead>
                            <tr>
                                <th style="min-width: 8rem;">Projet</th>
                                <th style="min-width: 8rem;">Moule</th>
                                <th style="min-width: 8rem;">Photo</th>
                                <th style="min-width: 8rem;">Chef de projet</th>
                                <th style="min-width: 8rem;">J</th>
                                <t t-foreach="Object.values(state.familles or {})" t-as="famille"  t-key="famille.ct">
                                    <th style="min-width: 8rem;"><span t-esc="famille.name"/></th>
                                </t>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="Object.values(state.dict or {})" t-as="line" t-key="line.key">
                                <tr>
                                    <td><span t-esc="line.moule"/></td>
                                    <td><span t-esc="line.moule"/></td>
                                    <td><span t-esc="line.moule"/></td>
                                    <td><span t-esc="line.moule"/></td>
                                    <td><span t-esc="line.moule"/></td>
                                    <t t-foreach="Object.values(line.familles or {})" t-as="famille"  t-key="famille.ct">
                                        <td style="min-width: 8rem;">
                                            <span t-esc="famille.html"/>
                                        </td>
                                    </t>
                                </tr>
                            </t>
                        </tbody>
                    </table>





            </div>















        </Layout>
    </t>
</templates>
